if(!Joomla)throw new Error("Joomla API was not properly initialized");function sourceSelectChanged(e,t,s,n,i,a,o){const d=i.currentSrc.substr(i.currentSrc.lastIndexOf("."));""!==d&&(i.pause(),t.style=`max-width: ${parseInt(a[e.options.selectedIndex].width,10)+o}px;`,s.style=`max-width: ${a[e.options.selectedIndex].width}px; max-height: ${a[e.options.selectedIndex].height}px;`,n.style=`width: auto; min-width: ${o}px; max-width: ${a[e.options.selectedIndex].width}px; max-height: ${a[e.options.selectedIndex].height}px;`,i.width=a[e.options.selectedIndex].width,i.height=a[e.options.selectedIndex].height,i.poster=`/${a[e.options.selectedIndex].image}`,a[e.options.selectedIndex].sources.every((e=>e.substr(e.lastIndexOf("."))!==d||(i.src=`/${e}`,!1))),e.setAttribute("data-selected",e.options.selectedIndex),i.load())}function seek(e,t){e.currentTime=t.toFixed(1),e.play()}function setstatus(e,t){e.innerHTML=t}function clearstatus(e,t){e.innerHTML===t&&(e.innerHTML="")}const allVideoPlayerDivs=document.querySelectorAll("div.rfvideoplayer");allVideoPlayerDivs.forEach((e=>{const t=e.querySelector(".rfvideo"),s=e.querySelector(".rfvideoplaylist"),n=parseInt(s.getAttribute("data-min-width"),10),i=e.getElementsByTagName("select")[0],a=e.getElementsByTagName("video")[0],o=e.querySelector(".rfvideostatus"),d=e.getElementsByTagName("li"),l=Joomla.Text._("MOD_RFVIDEO_LOADING").replace("&hellip;","…"),r=Joomla.Text._("MOD_RFVIDEO_SEEKING").replace("&hellip;","…");for(let e=0;e<d.length;e+=1){const t=d[e].getElementsByTagName("a")[0];t.addEventListener("click",(()=>{seek(a,parseFloat(t.getAttribute("data-start")))}))}if(i){const o=[];for(let e=0;e<i.length;e+=1){const t=i.options[e].value.split(";"),s={suffix:t[0],height:t[1],width:t[2],image:t[3],sources:t.slice(4)};o[e]=s}i.addEventListener("change",(()=>{sourceSelectChanged(i,e,t,s,a,o,n)}))}a.addEventListener("loadstart",(()=>{2===a.networkState&&setstatus(o,l)})),a.addEventListener("waiting",(()=>{2===a.networkState&&setstatus(o,l)})),a.addEventListener("canplay",(()=>{clearstatus(o,l)})),a.addEventListener("playing",(()=>{clearstatus(o,l)})),a.addEventListener("seeking",(()=>{setstatus(o,r)})),a.addEventListener("seeked",(()=>{clearstatus(o,r)}))}));