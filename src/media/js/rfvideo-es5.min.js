!function(){"use strict";if(!Joomla)throw new Error("Joomla API was not properly initialized");function e(e,t){e.currentTime=t.toFixed(1),e.play()}function t(e,t){e.innerHTML=t}function n(e,t){e.innerHTML===t&&(e.innerHTML="")}document.querySelectorAll("div.rfvideoplayerwrapper").forEach((function(i){var a=i.querySelector(".rfvideoplayer"),r=i.querySelector(".rfvideo"),o=i.querySelector(".rfvideoplaylistwrapper"),s=i.querySelector(".rfvideoplaylist"),l=parseInt(s.getAttribute("data-min-height"),10),d=parseInt(s.getAttribute("data-min-width"),10),c=i.getElementsByTagName("select")[0],u=i.getElementsByTagName("video")[0],p=i.querySelector(".rfvideostatus"),h=!!p&&!!p.getAttribute("data-show-status"),f=!!p&&!!p.getAttribute("data-show-title"),g=i.getElementsByTagName("li"),m="";if(h){var x=Joomla.Text._("MOD_RFVIDEO_LOADING").replace("&hellip;","…");m=Joomla.Text._("MOD_RFVIDEO_SEEKING").replace("&hellip;","…"),u.addEventListener("loadstart",(function(){2===u.networkState&&t(p,x)})),u.addEventListener("waiting",(function(){2===u.networkState&&t(p,x)})),u.addEventListener("canplay",(function(){n(p,x)})),u.addEventListener("playing",(function(){n(p,x)})),u.addEventListener("seeking",(function(){t(p,m)})),u.addEventListener("seeked",(function(){n(p,m)}))}if(f){for(var v=[],y=function(t){var n=g[t].getElementsByTagName("a")[0],i={start:parseFloat(n.getAttribute("data-start")),title:n.innerHTML};v[t]=i,n.addEventListener("click",(function(){e(u,i.start)}))},w=0;w<g.length;w+=1)y(w);v[g.length]={start:u.duration,title:""},u.addEventListener("durationchange",(function(){v[g.length].start=u.duration})),u.addEventListener("timeupdate",(function(){!function(e,t,n,i){if(e.seeking)t.innerHTML=i;else if(e.currentTime<=0)t.innerHTML="";else{for(var a="",r=n.length-1;r>=0;){if(e.currentTime>=n[r].start){a=n[r].title;break}r-=1}t.innerHTML=a}}(u,p,v,m)}))}else for(var E=function(t){var n=g[t].getElementsByTagName("a")[0];n.addEventListener("click",(function(){e(u,parseFloat(n.getAttribute("data-start")))}))},I=0;I<g.length;I+=1)E(I);if(c){var L=[];c.value=c.options[0].value;for(var T=0;T<c.length;T+=1){var S=c.options[T].value.split(";"),b={height:S[0],width:S[1],totalhmax:S[2],totalwmax:S[3],plistwmin:S[4],image:S[5],sources:S.slice(6)};L[T]=b}c.addEventListener("change",(function(){var e,t,n,i,p,h,f,g,m,x;e=c,t=a,n=r,i=o,p=s,f=L,g=l,m=d,""!==(x=(h=u).currentSrc.substr(h.currentSrc.lastIndexOf(".")))&&(h.pause(),t.style="max-width: "+f[e.options.selectedIndex].totalwmax+"; max-height: "+f[e.options.selectedIndex].totalhmax+";",n.style="max-width: "+f[e.options.selectedIndex].width+"px; max-height: "+f[e.options.selectedIndex].height+"px",i.style.flex="1 1 "+m+"px",i.style.minWidth=""+f[e.options.selectedIndex].plistwmin,i.style.maxWidth=f[e.options.selectedIndex].width+"px",p.style.flex="1 1 "+g+"px",p.style.maxHeight=f[e.options.selectedIndex].height+"px",h.width=f[e.options.selectedIndex].width,h.height=f[e.options.selectedIndex].height,h.poster="/"+f[e.options.selectedIndex].image,f[e.options.selectedIndex].sources.every((function(e){return e.substr(e.lastIndexOf("."))!==x||(h.src="/"+e,!1)})),e.setAttribute("data-selected",e.options.selectedIndex),h.load())}))}}))}();