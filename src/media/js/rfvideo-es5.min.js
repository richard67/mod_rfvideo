!function(){"use strict";if(!Joomla)throw new Error("Joomla API was not properly initialized");function e(e,t){e.innerHTML=t}function t(e,t){e.innerHTML===t&&(e.innerHTML="")}document.querySelectorAll("div.rfvideoplayer").forEach((function(n){for(var i=n.querySelector(".rfvideo"),o=n.querySelector(".rfvideoplaylist"),a=parseInt(o.getAttribute("data-min-width"),10),r=n.getElementsByTagName("select")[0],s=n.getElementsByTagName("video")[0],d=n.querySelector(".rfvideostatus"),l=n.getElementsByTagName("li"),c=Joomla.Text._("MOD_RFVIDEO_LOADING").replace("&hellip;","…"),u=Joomla.Text._("MOD_RFVIDEO_SEEKING").replace("&hellip;","…"),p=function(e){var t=l[e].getElementsByTagName("a")[0];t.addEventListener("click",(function(){var e,n;e=s,n=parseFloat(t.getAttribute("data-start")),e.currentTime=n.toFixed(1),e.play()}))},h=0;h<l.length;h+=1)p(h);if(r){for(var f=[],x=0;x<r.length;x+=1){var g=r.options[x].value.split(";"),m={suffix:g[0],height:g[1],width:g[2],image:g[3],sources:g.slice(4)};f[x]=m}r.addEventListener("change",(function(){var e,t,d,l,c,u,p,h;e=r,t=n,d=i,l=o,u=f,p=a,""!==(h=(c=s).currentSrc.substr(c.currentSrc.lastIndexOf(".")))&&(c.pause(),t.style="max-width: "+(parseInt(u[e.options.selectedIndex].width,10)+p)+"px;",d.style="max-width: "+u[e.options.selectedIndex].width+"px; max-height: "+u[e.options.selectedIndex].height+"px;",l.style="width: auto; min-width: "+p+"px; max-width: "+u[e.options.selectedIndex].width+"px; max-height: "+u[e.options.selectedIndex].height+"px;",c.width=u[e.options.selectedIndex].width,c.height=u[e.options.selectedIndex].height,c.poster="/"+u[e.options.selectedIndex].image,u[e.options.selectedIndex].sources.every((function(e){return e.substr(e.lastIndexOf("."))!==h||(c.src="/"+e,!1)})),e.setAttribute("data-selected",e.options.selectedIndex),c.load())}))}s.addEventListener("loadstart",(function(){2===s.networkState&&e(d,c)})),s.addEventListener("waiting",(function(){2===s.networkState&&e(d,c)})),s.addEventListener("canplay",(function(){t(d,c)})),s.addEventListener("playing",(function(){t(d,c)})),s.addEventListener("seeking",(function(){e(d,u)})),s.addEventListener("seeked",(function(){t(d,u)}))}))}();