!function(){"use strict";if(!Joomla)throw new Error("Joomla API was not properly initialized");function e(e,t){e.currentTime=t.toFixed(1),e.play()}function t(e,t){e.innerHTML=t}function n(e,t){e.innerHTML===t&&(e.innerHTML="")}document.querySelectorAll("div.rfvideoplayerwrapper").forEach((function(i){var r=i.querySelector(".rfvideoplayer"),a=i.querySelector(".rfvideo"),o=i.querySelector(".rfvideoplaylistwrapper"),s=i.querySelector(".rfvideoplaylist"),l=parseInt(s.getAttribute("data-min-height"),10),d=parseInt(s.getAttribute("data-min-width"),10),c=i.getElementsByTagName("select")[0],u=i.getElementsByTagName("video")[0],f=i.querySelector(".rfvideostatus"),p=!!f&&!!f.getAttribute("data-show-status"),g=!!f&&!!f.getAttribute("data-show-title"),v=i.getElementsByTagName("li"),h="";if(p){var m=Joomla.Text._("MOD_RFVIDEO_LOADING").replace("&hellip;","…");h=Joomla.Text._("MOD_RFVIDEO_SEEKING").replace("&hellip;","…"),u.addEventListener("loadstart",(function(){2===u.networkState&&t(f,m)})),u.addEventListener("waiting",(function(){2===u.networkState&&t(f,m)})),u.addEventListener("canplay",(function(){n(f,m)})),u.addEventListener("playing",(function(){n(f,m)})),u.addEventListener("seeking",(function(){t(f,h)})),u.addEventListener("seeked",(function(){n(f,h)}))}if(g){for(var x=[],y=function(t){var n=v[t].getElementsByTagName("a")[0],i={start:parseFloat(n.getAttribute("data-start")),title:n.innerHTML};x[t]=i,n.addEventListener("click",(function(){e(u,i.start)}))},E=0;E<v.length;E+=1)y(E);x[v.length]={start:u.duration,title:""},u.addEventListener("durationchange",(function(){x[v.length].start=u.duration})),u.addEventListener("timeupdate",(function(){!function(e,t,n,i){if(e.seeking)t.innerHTML=i;else if(e.currentTime<=0)t.innerHTML="";else{for(var r="",a=n.length-1;a>=0;){if(e.currentTime>=n[a].start){r=n[a].title;break}a-=1}t.innerHTML=r}}(u,f,x,h)}))}else for(var w=function(t){var n=v[t].getElementsByTagName("a")[0];n.addEventListener("click",(function(){e(u,parseFloat(n.getAttribute("data-start")))}))},L=0;L<v.length;L+=1)w(L);if(c){var I=[];c.value=c.options[0].value;for(var T=0;T<c.length;T+=1){var S=c.options[T].value.split(";"),b={height:S[0],width:S[1],totalwmax:S[2],image:S[3],sources:S.slice(4)};I[T]=b}c.addEventListener("change",(function(){var e,t,n,i,f,p,g,v,h,m;e=c,t=r,n=a,i=o,f=s,g=I,v=l,h=d,""!==(m=(p=u).currentSrc.substr(p.currentSrc.lastIndexOf(".")))&&(p.pause(),t.style="max-width: "+g[e.options.selectedIndex].totalwmax+";",n.style.flex="0 1 "+g[e.options.selectedIndex].width+"px",i.style.flex="1 1 "+h+"px",i.style.maxWidth=g[e.options.selectedIndex].width+"px",f.style.flex="1 1 "+v+"px",f.style.maxHeight=g[e.options.selectedIndex].height+"px",p.width=g[e.options.selectedIndex].width,p.height=g[e.options.selectedIndex].height,p.poster="/"+g[e.options.selectedIndex].image,g[e.options.selectedIndex].sources.every((function(e){return e.substr(e.lastIndexOf("."))!==m||(p.src="/"+e,!1)})),e.setAttribute("data-selected",e.options.selectedIndex),p.load())}))}}))}();