!function(){"use strict";if(!Joomla)throw new Error("Joomla API was not properly initialized");function e(e,t){e.currentTime=t.toFixed(1),e.play()}function t(e,t){e.innerHTML=t}function n(e,t){e.innerHTML===t&&(e.innerHTML="")}document.querySelectorAll("div.rfvideoplayerwrapper").forEach((function(i){var a=i.querySelector(".rfvideoplayer"),r=i.querySelector(".rfvideo"),s=i.querySelector(".rfvideoplaylistwrapper"),o=i.querySelector(".rfvideoplaylist"),l=parseInt(o.getAttribute("data-min-height"),10),d=parseInt(o.getAttribute("data-min-width"),10),c=i.getElementsByTagName("select")[0],u=i.getElementsByTagName("video")[0],p=i.querySelector(".rfvideostatus"),f=!!p&&!!p.getAttribute("data-show-status"),h=!!p&&!!p.getAttribute("data-show-title"),g=i.getElementsByTagName("li"),m="";if(f){var x=Joomla.Text._("MOD_RFVIDEO_LOADING").replace("&hellip;","…");m=Joomla.Text._("MOD_RFVIDEO_SEEKING").replace("&hellip;","…"),u.addEventListener("loadstart",(function(){2===u.networkState&&t(p,x)})),u.addEventListener("waiting",(function(){2===u.networkState&&t(p,x)})),u.addEventListener("canplay",(function(){n(p,x)})),u.addEventListener("playing",(function(){n(p,x)})),u.addEventListener("seeking",(function(){t(p,m)})),u.addEventListener("seeked",(function(){n(p,m)}))}if(h){for(var v=[],y=function(t){var n=g[t].getElementsByTagName("a")[0],i={start:parseFloat(n.getAttribute("data-start")),title:n.innerHTML};v[t]=i,n.addEventListener("click",(function(){e(u,i.start)}))},w=0;w<g.length;w+=1)y(w);v[g.length]={start:u.duration,title:""},u.addEventListener("durationchange",(function(){v[g.length].start=u.duration})),u.addEventListener("timeupdate",(function(){!function(e,t,n,i){if(e.seeking)t.innerHTML=i;else if(e.currentTime<=0)t.innerHTML="";else{for(var a="",r=n.length-1;r>=0;){if(e.currentTime>=n[r].start){a=n[r].title;break}r-=1}t.innerHTML=a}}(u,p,v,m)}))}else for(var E=function(t){var n=g[t].getElementsByTagName("a")[0];n.addEventListener("click",(function(){e(u,parseFloat(n.getAttribute("data-start")))}))},I=0;I<g.length;I+=1)E(I);if(c){for(var L=[],T=0;T<c.length;T+=1){var S=c.options[T].value.split(";"),b={suffix:S[0],height:S[1],width:S[2],totalhmax:S[3],totalwmax:S[4],plistwmin:S[5],image:S[6],sources:S.slice(7)};L[T]=b}c.addEventListener("change",(function(){var e,t,n,i,p,f,h,g,m,x;e=c,t=a,n=r,i=s,p=o,h=L,g=l,m=d,""!==(x=(f=u).currentSrc.substr(f.currentSrc.lastIndexOf(".")))&&(f.pause(),t.style="max-width: "+h[e.options.selectedIndex].totalwmax+"; max-height: "+h[e.options.selectedIndex].totalhmax+";",n.style="max-width: "+h[e.options.selectedIndex].width+"px; max-height: "+h[e.options.selectedIndex].height+"px",i.style.flex="1 1 "+m+"px",i.style.minWidth=""+h[e.options.selectedIndex].plistwmin,i.style.maxWidth=h[e.options.selectedIndex].width+"px",p.style.flex="1 1 "+g+"px",p.style.maxHeight=h[e.options.selectedIndex].height+"px",f.width=h[e.options.selectedIndex].width,f.height=h[e.options.selectedIndex].height,f.poster="/"+h[e.options.selectedIndex].image,h[e.options.selectedIndex].sources.every((function(e){return e.substr(e.lastIndexOf("."))!==x||(f.src="/"+e,!1)})),e.setAttribute("data-selected",e.options.selectedIndex),f.load())}))}}))}();