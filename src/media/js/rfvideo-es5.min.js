!function(){"use strict";if(!Joomla)throw new Error("Joomla API was not properly initialized");function e(e,t){e.currentTime=t,e.play()}function t(e,t){e.innerHTML=t}function n(e,t){e.innerHTML===t&&(e.innerHTML="")}document.querySelectorAll("div.rfvideoplayerwrapper").forEach((function(i){var r=i.querySelector(".rfvideoplayer"),a=i.querySelector(".rfvideo"),o=i.querySelector(".rfvideoplaylistwrapper"),s=parseInt(o.getAttribute("data-min-height"),10),l=parseInt(o.getAttribute("data-min-width"),10),d=i.querySelector(".rfvideoplaylist"),c=i.getElementsByTagName("select")[0],u=i.getElementsByTagName("video")[0],f=i.querySelector(".rfvideostatus"),p=!!f&&!!f.getAttribute("data-show-status"),g=!!f&&!!f.getAttribute("data-show-title"),h=i.getElementsByTagName("li"),v="";if(p){var x=Joomla.Text._("MOD_RFVIDEO_LOADING").replace("&hellip;","…");v=Joomla.Text._("MOD_RFVIDEO_SEEKING").replace("&hellip;","…"),u.addEventListener("loadstart",(function(){2===u.networkState&&t(f,x)})),u.addEventListener("waiting",(function(){2===u.networkState&&t(f,x)})),u.addEventListener("canplay",(function(){n(f,x)})),u.addEventListener("playing",(function(){n(f,x)})),u.addEventListener("seeking",(function(){t(f,v)})),u.addEventListener("seeked",(function(){n(f,v)}))}if(g){for(var m=[],y=function(t){var n=h[t].getElementsByTagName("button")[0],i={start:parseFloat(n.getAttribute("data-start")).toFixed(1),title:n.innerHTML};m[t]=i,n.addEventListener("click",(function(){e(u,i.start)}))},E=0;E<h.length;E+=1)y(E);m[h.length]={start:u.duration,title:""},u.addEventListener("durationchange",(function(){m[h.length].start=u.duration})),u.addEventListener("timeupdate",(function(){!function(e,t,n,i){if(e.seeking)t.innerHTML=i;else if(e.currentTime<=0)t.innerHTML="";else{for(var r="",a=n.length-1;a>=0;){if(e.currentTime>=n[a].start){r=n[a].title;break}a-=1}t.innerHTML=r}}(u,f,m,v)}))}else for(var w=function(t){var n=h[t].getElementsByTagName("button")[0];n.addEventListener("click",(function(){e(u,parseFloat(n.getAttribute("data-start")).toFixed(1))}))},I=0;I<h.length;I+=1)w(I);if(c){var L=[];c.value=c.options[0].value;for(var T=0;T<c.length;T+=1){var b=c.options[T].value.split(";"),S={height:b[0],width:b[1],totalwmax:b[2],image:b[3],sources:b.slice(4)};L[T]=S}c.addEventListener("change",(function(){var e,t,n,i,f,p,g,h,v,x;e=c,t=r,n=a,i=o,f=d,g=L,h=s,v=l,""!==(x=(p=u).currentSrc.substr(p.currentSrc.lastIndexOf(".")))&&(p.pause(),t.style="max-width: "+g[e.options.selectedIndex].totalwmax+";",n.style.flex="0 1 "+g[e.options.selectedIndex].width+"px",v>0?(i.style.flex="1 1 "+v+"px",i.style.maxWidth=g[e.options.selectedIndex].width+"px"):i.style.flex="0 1 "+g[e.options.selectedIndex].width+"px",f.style.flex="1 1 "+h+"px",f.style.maxHeight=g[e.options.selectedIndex].height+"px",p.width=g[e.options.selectedIndex].width,p.height=g[e.options.selectedIndex].height,p.poster="/"+g[e.options.selectedIndex].image,g[e.options.selectedIndex].sources.every((function(e){return e.substr(e.lastIndexOf("."))!==x||(p.src="/"+e,!1)})),e.setAttribute("data-selected",e.options.selectedIndex),p.load())}))}}))}();