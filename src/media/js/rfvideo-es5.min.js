!function(){"use strict";if(!Joomla)throw new Error("Joomla API was not properly initialized");function e(e,t){e.innerHTML=t}function t(e,t){e.innerHTML===t&&(e.innerHTML="")}document.querySelectorAll("div.rfvideoplayer").forEach((function(n){for(var i=n.querySelector(".rfvideo"),r=n.querySelector(".rfvideoplaylist"),s=n.getElementsByTagName("select")[0],a=n.getElementsByTagName("video")[0],o=n.querySelector(".rfvideostatus"),d=n.getElementsByTagName("li"),l=Joomla.Text._("MOD_RFVIDEO_LOADING").replace("&hellip;","…"),c=Joomla.Text._("MOD_RFVIDEO_SEEKING").replace("&hellip;","…"),f=function(e){var t=d[e].getElementsByTagName("a")[0];t.addEventListener("click",(function(){var e,n;e=a,n=parseFloat(t.getAttribute("data-start")),e.currentTime=n.toFixed(1),e.play()}))},u=0;u<d.length;++u)f(u);if(s){for(var v=[],p=0;p<s.length;++p){var g=s.options[p].value.split(";"),E={suffix:g[0],height:g[1],width:g[2],image:g[3],sources:g.slice(4)};v[p]=E}s.addEventListener("change",(function(){!function(e,t,n,i,r){var s=i.currentSrc.substr(i.currentSrc.lastIndexOf("."));if(""!==s){i.pause();var a=r[e.getAttribute("data-selected")].suffix,o=r[e.options.selectedIndex].suffix;t.classList.remove("rfvideo"+a),n.classList.remove("rfvideoplaylist"+a),t.classList.add("rfvideo"+o),n.classList.add("rfvideoplaylist"+o),i.width=r[e.options.selectedIndex].width,i.height=r[e.options.selectedIndex].height,i.poster="/"+r[e.options.selectedIndex].image,r[e.options.selectedIndex].sources.forEach((function(e){if(e.substr(e.lastIndexOf("."))===s)return i.src="/"+e,!1})),e.setAttribute("data-selected",e.options.selectedIndex),i.load()}}(s,i,r,a,v)}))}a.addEventListener("loadstart",(function(){2===a.networkState&&e(o,l)})),a.addEventListener("waiting",(function(){2===a.networkState&&e(o,l)})),a.addEventListener("canplay",(function(){t(o,l)})),a.addEventListener("playing",(function(){t(o,l)})),a.addEventListener("seeking",(function(){e(o,c)})),a.addEventListener("seeked",(function(){t(o,c)}))}))}();