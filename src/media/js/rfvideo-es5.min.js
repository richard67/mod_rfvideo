!function(){"use strict";if(!Joomla)throw new Error("Joomla API was not properly initialized");function e(e,t){e.currentTime=t,e.play()}function t(e,t){e.innerHTML=t}function n(e,t){e.innerHTML===t&&(e.innerHTML="")}document.querySelectorAll("div.rfvideoplayerwrapper").forEach((function(i){var r=i.querySelector(".rfvideoplayer"),a=i.querySelector(".rfvideo"),s=i.querySelector(".rfvideoplaylistwrapper"),o=i.querySelector(".rfvideoplaylist"),l=i.getElementsByTagName("select")[0],d=i.getElementsByTagName("video")[0],c=i.querySelector(".rfvideostatus"),u=!!c&&!!c.getAttribute("data-show-status"),f=!!c&&!!c.getAttribute("data-show-title"),v=i.getElementsByTagName("li"),p="";if(u){var g=Joomla.Text._("MOD_RFVIDEO_LOADING").replace("&hellip;","…");p=Joomla.Text._("MOD_RFVIDEO_SEEKING").replace("&hellip;","…"),d.addEventListener("loadstart",(function(){2===d.networkState&&t(c,g)})),d.addEventListener("waiting",(function(){2===d.networkState&&t(c,g)})),d.addEventListener("canplay",(function(){n(c,g)})),d.addEventListener("playing",(function(){n(c,g)})),d.addEventListener("seeking",(function(){t(c,p)})),d.addEventListener("seeked",(function(){n(c,p)}))}if(f){for(var y=[],L=function(t){var n=v[t].getElementsByTagName("button")[0],i={start:parseFloat(n.getAttribute("data-start")).toFixed(1),title:n.innerHTML};y[t]=i,n.addEventListener("click",(function(){e(d,i.start)}))},m=0;m<v.length;m+=1)L(m);y[v.length]={start:d.duration,title:""},d.addEventListener("durationchange",(function(){y[v.length].start=d.duration})),d.addEventListener("timeupdate",(function(){!function(e,t,n,i){if(e.seeking)t.innerHTML=i;else if(e.currentTime<=0)t.innerHTML="";else{for(var r="",a=n.length-1;a>=0;){if(e.currentTime>=n[a].start){r=n[a].title;break}a-=1}t.innerHTML=r}}(d,c,y,p)}))}else for(var E=function(t){var n=v[t].getElementsByTagName("button")[0];n.addEventListener("click",(function(){e(d,parseFloat(n.getAttribute("data-start")).toFixed(1))}))},T=0;T<v.length;T+=1)E(T);if(l){var I=[];l.value=l.options[0].value;for(var h=0;h<l.length;h+=1){var q=l.options[h].value.split(";"),x={image:q[0],sources:q.slice(1)};I[h]=x}l.addEventListener("change",(function(){var e,t,n,i,c,u,f,v,p;e=l,t=r,n=a,i=s,c=o,f=I,v=(u=d).currentSrc.substr(u.currentSrc.lastIndexOf(".")),p=parseInt(e.getAttribute("data-selected"),10),""===v||Number.isNaN(p)||(u.pause(),f[e.options.selectedIndex].sources.every((function(r){return r.substr(r.lastIndexOf("."))!==v||(t.classList.remove("rfvideoquality"+p),n.classList.remove("rfvideoquality"+p),i.classList.remove("rfvideoquality"+p),c.classList.remove("rfvideoquality"+p),u.poster="/"+f[e.options.selectedIndex].image,u.src="/"+r,t.classList.add("rfvideoquality"+e.options.selectedIndex),n.classList.add("rfvideoquality"+e.options.selectedIndex),i.classList.add("rfvideoquality"+e.options.selectedIndex),c.classList.add("rfvideoquality"+e.options.selectedIndex),e.setAttribute("data-selected",e.options.selectedIndex),u.load(),!1)})))}))}}))}();